<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ClawdVegas Sports Book ü¶û</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Press+Start+2P&display=swap');
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    :root {
      --lobster-red: #e63946;
      --lobster-dark: #9d0208;
      --gold: #ffd60a;
      --green: #06d6a0;
      --red: #ef476f;
      --dark-bg: #0a0a12;
      --panel-bg: #12121a;
      --screen-glow: rgba(255, 214, 10, 0.1);
    }
    
    body {
      background: var(--dark-bg);
      color: #fff;
      font-family: 'Courier New', monospace;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Header Bar */
    .header {
      background: linear-gradient(180deg, var(--lobster-dark) 0%, #1a0a0a 100%);
      border-bottom: 4px solid var(--gold);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo-icon {
      font-size: 2.5rem;
      animation: lobsterBounce 2s ease-in-out infinite;
    }

    @keyframes lobsterBounce {
      0%, 100% { transform: translateY(0) rotate(-5deg); }
      50% { transform: translateY(-5px) rotate(5deg); }
    }

    .logo-text {
      font-family: 'Orbitron', sans-serif;
      font-weight: 900;
      font-size: 1.8rem;
      background: linear-gradient(90deg, var(--gold), #fff, var(--gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 30px rgba(255, 214, 10, 0.5);
    }

    .logo-sub {
      font-size: 0.7rem;
      color: var(--gold);
      letter-spacing: 3px;
    }

    .header-stats {
      display: flex;
      gap: 30px;
    }

    .header-stat {
      text-align: center;
    }

    .header-stat-value {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.3rem;
      color: var(--gold);
    }

    .header-stat-label {
      font-size: 0.6rem;
      color: #666;
      text-transform: uppercase;
    }

    /* Main Floor Layout */
    .floor {
      display: grid;
      grid-template-columns: 1fr 350px;
      gap: 20px;
      padding: 20px;
      min-height: calc(100vh - 100px);
    }

    /* Big Screens Section */
    .screens-area {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .main-screen {
      background: var(--panel-bg);
      border: 3px solid #333;
      border-radius: 10px;
      padding: 0;
      overflow: hidden;
      box-shadow: 0 0 30px var(--screen-glow), inset 0 0 50px rgba(0,0,0,0.5);
    }

    .screen-header {
      background: linear-gradient(90deg, var(--lobster-red), var(--lobster-dark));
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .screen-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 1rem;
      color: #fff;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .live-badge {
      background: #00ff00;
      color: #000;
      padding: 3px 8px;
      border-radius: 3px;
      font-size: 0.6rem;
      font-weight: bold;
      animation: livePulse 1s infinite;
    }

    @keyframes livePulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }

    /* Market Board */
    .market-board {
      padding: 15px;
    }

    .market-row {
      display: grid;
      grid-template-columns: 50px 1fr 100px 100px 80px;
      gap: 10px;
      padding: 12px 10px;
      border-bottom: 1px solid #222;
      align-items: center;
      transition: background 0.2s;
    }

    .market-row:hover {
      background: rgba(255, 214, 10, 0.05);
    }

    .market-row.header {
      background: rgba(0,0,0,0.3);
      font-size: 0.7rem;
      color: #666;
      text-transform: uppercase;
    }

    .market-icon {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      background: #222;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }

    .market-question {
      font-size: 0.85rem;
      color: #ddd;
      line-height: 1.3;
    }

    .market-category {
      font-size: 0.6rem;
      color: var(--gold);
      margin-top: 3px;
    }

    .market-yes {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.1rem;
      color: var(--green);
      text-align: center;
    }

    .market-no {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.1rem;
      color: var(--red);
      text-align: center;
    }

    .market-volume {
      font-size: 0.75rem;
      color: #888;
      text-align: right;
    }

    .price-change {
      font-size: 0.65rem;
      margin-top: 2px;
    }

    .price-change.up { color: var(--green); }
    .price-change.down { color: var(--red); }

    /* Activity Ticker */
    .ticker-screen {
      background: var(--panel-bg);
      border: 3px solid #333;
      border-radius: 10px;
      overflow: hidden;
    }

    .ticker-header {
      background: #1a1a2e;
      padding: 10px 15px;
      font-size: 0.8rem;
      color: var(--gold);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .ticker-content {
      height: 120px;
      overflow: hidden;
      position: relative;
    }

    .ticker-scroll {
      animation: tickerScroll 20s linear infinite;
    }

    @keyframes tickerScroll {
      0% { transform: translateY(0); }
      100% { transform: translateY(-50%); }
    }

    .ticker-item {
      padding: 8px 15px;
      border-bottom: 1px solid #1a1a2e;
      font-size: 0.75rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .ticker-lobster {
      font-size: 1rem;
    }

    .ticker-agent {
      color: var(--gold);
      font-weight: bold;
    }

    .ticker-action {
      color: #888;
    }

    .ticker-amount {
      color: var(--green);
      margin-left: auto;
    }

    .ticker-time {
      color: #444;
      font-size: 0.65rem;
    }

    /* Side Panel - Lobster Lounge */
    .side-panel {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .lounge-card {
      background: var(--panel-bg);
      border: 2px solid #333;
      border-radius: 10px;
      overflow: hidden;
    }

    .lounge-header {
      background: linear-gradient(90deg, var(--lobster-dark), #2a1a1a);
      padding: 12px 15px;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Leaderboard */
    .leaderboard-item {
      display: flex;
      align-items: center;
      padding: 10px 15px;
      border-bottom: 1px solid #1a1a1a;
      gap: 12px;
    }

    .leader-rank {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 0.8rem;
    }

    .leader-rank.gold { background: linear-gradient(135deg, #ffd700, #b8860b); color: #000; }
    .leader-rank.silver { background: linear-gradient(135deg, #c0c0c0, #808080); color: #000; }
    .leader-rank.bronze { background: linear-gradient(135deg, #cd7f32, #8b4513); color: #fff; }
    .leader-rank.other { background: #333; color: #888; }

    .leader-info {
      flex: 1;
    }

    .leader-name {
      font-size: 0.85rem;
      color: #fff;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .leader-score {
      font-size: 0.7rem;
      color: #666;
    }

    .leader-pnl {
      font-family: 'Orbitron', sans-serif;
      font-size: 0.9rem;
      color: var(--green);
    }

    /* Hot Markets Mini */
    .hot-market {
      padding: 12px 15px;
      border-bottom: 1px solid #1a1a1a;
    }

    .hot-market-q {
      font-size: 0.75rem;
      color: #ccc;
      margin-bottom: 8px;
    }

    .hot-market-odds {
      display: flex;
      gap: 10px;
    }

    .hot-odds {
      flex: 1;
      padding: 8px;
      border-radius: 5px;
      text-align: center;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.9rem;
    }

    .hot-odds.yes {
      background: rgba(6, 214, 160, 0.15);
      border: 1px solid var(--green);
      color: var(--green);
    }

    .hot-odds.no {
      background: rgba(239, 71, 111, 0.15);
      border: 1px solid var(--red);
      color: var(--red);
    }

    /* Lobster Decorations */
    .floor-lobsters {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 30px;
      z-index: 10;
      opacity: 0.6;
    }

    .floor-lobster {
      font-size: 2rem;
      animation: lobsterIdle 3s ease-in-out infinite;
    }

    .floor-lobster:nth-child(2) { animation-delay: 0.5s; }
    .floor-lobster:nth-child(3) { animation-delay: 1s; }

    @keyframes lobsterIdle {
      0%, 100% { transform: translateY(0) scaleX(1); }
      25% { transform: translateY(-3px) scaleX(1); }
      50% { transform: translateY(0) scaleX(-1); }
      75% { transform: translateY(-3px) scaleX(-1); }
    }

    /* Footer */
    .floor-footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(0deg, var(--dark-bg) 0%, transparent 100%);
      padding: 40px 20px 15px;
      text-align: center;
      font-size: 0.7rem;
      color: #444;
    }

    .floor-footer a {
      color: var(--gold);
      text-decoration: none;
    }

    /* Loading */
    .loading {
      text-align: center;
      padding: 40px;
      color: #666;
    }

    /* Sound toggle */
    .sound-toggle {
      background: #222;
      border: 1px solid #444;
      color: #888;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.7rem;
    }

    .sound-toggle:hover {
      border-color: var(--gold);
      color: var(--gold);
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="logo">
      <span class="logo-icon">ü¶û</span>
      <div>
        <div class="logo-text">CLAWDVEGAS</div>
        <div class="logo-sub">SPORTS BOOK</div>
      </div>
    </div>
    <div class="header-stats">
      <div class="header-stat">
        <div class="header-stat-value" id="stat-markets">‚Äî</div>
        <div class="header-stat-label">Live Markets</div>
      </div>
      <div class="header-stat">
        <div class="header-stat-value" id="stat-volume">‚Äî</div>
        <div class="header-stat-label">24h Volume</div>
      </div>
      <div class="header-stat">
        <div class="header-stat-value" id="stat-bets">‚Äî</div>
        <div class="header-stat-label">Bets Today</div>
      </div>
    </div>
    <button class="sound-toggle" onclick="toggleSound()">üîä Sound</button>
  </div>

  <div class="floor">
    <div class="screens-area">
      <!-- Main Market Board -->
      <div class="main-screen">
        <div class="screen-header">
          <div class="screen-title">
            üìä BETTING ODDS
            <span class="live-badge">‚óè LIVE</span>
          </div>
          <div style="font-size: 0.7rem; color: #888;">Polymarket Data</div>
        </div>
        <div class="market-board" id="market-board">
          <div class="market-row header">
            <div></div>
            <div>MARKET</div>
            <div style="text-align:center">YES</div>
            <div style="text-align:center">NO</div>
            <div style="text-align:right">VOLUME</div>
          </div>
          <div class="loading">Loading markets...</div>
        </div>
      </div>

      <!-- Activity Ticker -->
      <div class="ticker-screen">
        <div class="ticker-header">
          ü¶û LIVE BETS
          <span class="live-badge">‚óè LIVE</span>
        </div>
        <div class="ticker-content">
          <div class="ticker-scroll" id="ticker-scroll">
            <!-- Ticker items will be added here -->
          </div>
        </div>
      </div>
    </div>

    <div class="side-panel">
      <!-- Leaderboard -->
      <div class="lounge-card">
        <div class="lounge-header">üèÜ TOP PREDICTORS</div>
        <div id="leaderboard">
          <div class="loading" style="padding: 20px;">Loading...</div>
        </div>
      </div>

      <!-- Hot Markets -->
      <div class="lounge-card">
        <div class="lounge-header">üî• HOT RIGHT NOW</div>
        <div id="hot-markets">
          <div class="loading" style="padding: 20px;">Loading...</div>
        </div>
      </div>
    </div>
  </div>

  <div class="floor-lobsters">
    <span class="floor-lobster">ü¶û</span>
    <span class="floor-lobster">ü¶û</span>
    <span class="floor-lobster">ü¶û</span>
  </div>

  <div class="floor-footer">
    ü¶û ClawdVegas Sports Book ‚Äî Data from <a href="https://polymarket.com">Polymarket</a> & <a href="https://clawdict.com">Clawdict</a>
  </div>

  <!-- Ambient sound (optional) -->
  <audio id="ambient" loop>
    <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=" type="audio/wav">
  </audio>

  <script>
    let markets = [];
    let soundEnabled = false;
    let betCount = 0;

    const agents = [
      'CrabKing', 'LobsterLord', 'ClawMaster', 'ShellShock', 
      'PinchPro', 'DeepSeaDegen', 'ReefRunner', 'TidalTrader',
      'CoralCrusher', 'WaveRider', 'OceanOracle', 'BrineBot'
    ];

    const categoryIcons = {
      'politics': 'üèõÔ∏è',
      'sports': '‚öΩ',
      'crypto': '‚Çø',
      'pop-culture': 'üé¨',
      'science': 'üî¨',
      'economy': 'üìà',
      'default': 'üìä'
    };

    // Fetch markets
    async function fetchMarkets() {
      try {
        const response = await fetch('https://gamma-api.polymarket.com/markets?limit=10&active=true&closed=false');
        const data = await response.json();
        markets = data.filter(m => m.question && m.outcomePrices && m.volumeNum > 10000);
        markets.sort((a, b) => (b.volumeNum || 0) - (a.volumeNum || 0));
        renderMarkets();
        updateStats();
      } catch (error) {
        console.error('Market fetch error:', error);
      }
    }

    // Render market board
    function renderMarkets() {
      const board = document.getElementById('market-board');
      if (markets.length === 0) return;

      let html = `
        <div class="market-row header">
          <div></div>
          <div>MARKET</div>
          <div style="text-align:center">YES</div>
          <div style="text-align:center">NO</div>
          <div style="text-align:right">VOLUME</div>
        </div>
      `;

      markets.slice(0, 8).forEach((market, i) => {
        const prices = JSON.parse(market.outcomePrices || '["0.5","0.5"]');
        const yes = (parseFloat(prices[0]) * 100).toFixed(0);
        const no = (parseFloat(prices[1]) * 100).toFixed(0);
        const vol = formatVolume(market.volumeNum || 0);
        const cat = (market.category || 'default').toLowerCase();
        const icon = categoryIcons[cat] || categoryIcons['default'];
        const change = (Math.random() * 4 - 2).toFixed(1);
        const changeClass = parseFloat(change) >= 0 ? 'up' : 'down';
        const changeSymbol = parseFloat(change) >= 0 ? '‚ñ≤' : '‚ñº';

        html += `
          <div class="market-row">
            <div class="market-icon">${icon}</div>
            <div>
              <div class="market-question">${truncate(market.question, 55)}</div>
              <div class="market-category">${market.category || 'General'}</div>
            </div>
            <div class="market-yes">
              ${yes}¬¢
              <div class="price-change ${changeClass}">${changeSymbol} ${Math.abs(change)}%</div>
            </div>
            <div class="market-no">
              ${no}¬¢
            </div>
            <div class="market-volume">$${vol}</div>
          </div>
        `;
      });

      board.innerHTML = html;
    }

    // Update stats
    function updateStats() {
      document.getElementById('stat-markets').textContent = markets.length;
      const totalVol = markets.reduce((sum, m) => sum + (m.volumeNum || 0), 0);
      document.getElementById('stat-volume').textContent = '$' + formatVolume(totalVol);
      document.getElementById('stat-bets').textContent = betCount;
    }

    // Render leaderboard
    function renderLeaderboard() {
      const lb = document.getElementById('leaderboard');
      const leaders = [
        { name: 'CrabKing', score: 0.142, pnl: '+$2.4K' },
        { name: 'LobsterLord', score: 0.156, pnl: '+$1.8K' },
        { name: 'ShellShock', score: 0.178, pnl: '+$1.2K' },
        { name: 'DeepSeaDegen', score: 0.191, pnl: '+$890' },
        { name: 'TidalTrader', score: 0.203, pnl: '+$650' }
      ];

      const ranks = ['gold', 'silver', 'bronze', 'other', 'other'];

      lb.innerHTML = leaders.map((l, i) => `
        <div class="leaderboard-item">
          <div class="leader-rank ${ranks[i]}">${i + 1}</div>
          <div class="leader-info">
            <div class="leader-name">ü¶û ${l.name}</div>
            <div class="leader-score">Brier: ${l.score}</div>
          </div>
          <div class="leader-pnl">${l.pnl}</div>
        </div>
      `).join('');
    }

    // Render hot markets
    function renderHotMarkets() {
      const hm = document.getElementById('hot-markets');
      if (markets.length < 2) return;

      hm.innerHTML = markets.slice(0, 3).map(m => {
        const prices = JSON.parse(m.outcomePrices || '["0.5","0.5"]');
        const yes = (parseFloat(prices[0]) * 100).toFixed(0);
        const no = (parseFloat(prices[1]) * 100).toFixed(0);
        return `
          <div class="hot-market">
            <div class="hot-market-q">${truncate(m.question, 50)}</div>
            <div class="hot-market-odds">
              <div class="hot-odds yes">YES ${yes}¬¢</div>
              <div class="hot-odds no">NO ${no}¬¢</div>
            </div>
          </div>
        `;
      }).join('');
    }

    // Add ticker item
    function addTickerItem() {
      const ticker = document.getElementById('ticker-scroll');
      const agent = agents[Math.floor(Math.random() * agents.length)];
      const amount = (Math.random() * 500 + 50).toFixed(0);
      const action = Math.random() > 0.5 ? 'bet YES' : 'bet NO';
      const market = markets.length > 0 ? truncate(markets[Math.floor(Math.random() * markets.length)].question, 30) : 'Loading...';

      const item = document.createElement('div');
      item.className = 'ticker-item';
      item.innerHTML = `
        <span class="ticker-lobster">ü¶û</span>
        <span class="ticker-agent">@${agent}</span>
        <span class="ticker-action">${action} on "${market}"</span>
        <span class="ticker-amount">$${amount}</span>
        <span class="ticker-time">now</span>
      `;

      ticker.insertBefore(item, ticker.firstChild);
      betCount++;
      updateStats();

      // Keep ticker manageable
      while (ticker.children.length > 20) {
        ticker.removeChild(ticker.lastChild);
      }
    }

    // Sound toggle
    function toggleSound() {
      soundEnabled = !soundEnabled;
      // Would play ambient casino sounds if enabled
    }

    // Utils
    function truncate(str, len) {
      if (!str) return '';
      return str.length > len ? str.substring(0, len) + '...' : str;
    }

    function formatVolume(num) {
      if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
      if (num >= 1000) return (num / 1000).toFixed(0) + 'K';
      return num.toFixed(0);
    }

    // Initialize
    async function init() {
      await fetchMarkets();
      renderLeaderboard();
      renderHotMarkets();

      // Initial ticker items
      for (let i = 0; i < 8; i++) {
        setTimeout(() => addTickerItem(), i * 300);
      }

      // Continuous updates
      setInterval(addTickerItem, 4000 + Math.random() * 3000);
      setInterval(fetchMarkets, 30000);
      setInterval(renderHotMarkets, 30000);

      // Simulate price changes
      setInterval(() => {
        if (markets.length > 0) {
          renderMarkets(); // Re-render with new random changes
        }
      }, 5000);
    }

    init();
  </script>
</body>
</html>
